{"ast":null,"code":"import { BaseUiElementFactory, PublicUiElementIdAndClasses } from \"./base\";\nimport { Html5QrcodeScannerStrings } from \"../../strings\";\nvar CameraSelectionUi = function () {\n  function CameraSelectionUi(cameras) {\n    this.selectElement = BaseUiElementFactory.createElement(\"select\", PublicUiElementIdAndClasses.CAMERA_SELECTION_SELECT_ID);\n    this.cameras = cameras;\n    this.options = [];\n  }\n  CameraSelectionUi.prototype.render = function (parentElement) {\n    var cameraSelectionContainer = document.createElement(\"span\");\n    cameraSelectionContainer.style.marginRight = \"10px\";\n    var numCameras = this.cameras.length;\n    if (numCameras === 0) {\n      throw new Error(\"No cameras found\");\n    }\n    if (numCameras === 1) {\n      cameraSelectionContainer.style.display = \"none\";\n    } else {\n      var selectCameraString = Html5QrcodeScannerStrings.selectCamera();\n      cameraSelectionContainer.innerText = \"\".concat(selectCameraString, \" (\").concat(this.cameras.length, \")  \");\n    }\n    var anonymousCameraId = 1;\n    for (var _i = 0, _a = this.cameras; _i < _a.length; _i++) {\n      var camera = _a[_i];\n      var value = camera.id;\n      var name_1 = camera.label == null ? value : camera.label;\n      if (!name_1 || name_1 === \"\") {\n        name_1 = [Html5QrcodeScannerStrings.anonymousCameraPrefix(), anonymousCameraId++].join(\" \");\n      }\n      var option = document.createElement(\"option\");\n      option.value = value;\n      option.innerText = name_1;\n      this.options.push(option);\n      this.selectElement.appendChild(option);\n    }\n    cameraSelectionContainer.appendChild(this.selectElement);\n    parentElement.appendChild(cameraSelectionContainer);\n  };\n  CameraSelectionUi.prototype.disable = function () {\n    this.selectElement.disabled = true;\n  };\n  CameraSelectionUi.prototype.isDisabled = function () {\n    return this.selectElement.disabled === true;\n  };\n  CameraSelectionUi.prototype.enable = function () {\n    this.selectElement.disabled = false;\n  };\n  CameraSelectionUi.prototype.getValue = function () {\n    return this.selectElement.value;\n  };\n  CameraSelectionUi.prototype.hasValue = function (value) {\n    for (var _i = 0, _a = this.options; _i < _a.length; _i++) {\n      var option = _a[_i];\n      if (option.value === value) {\n        return true;\n      }\n    }\n    return false;\n  };\n  CameraSelectionUi.prototype.setValue = function (value) {\n    if (!this.hasValue(value)) {\n      throw new Error(\"\".concat(value, \" is not present in the camera list.\"));\n    }\n    this.selectElement.value = value;\n  };\n  CameraSelectionUi.prototype.hasSingleItem = function () {\n    return this.cameras.length === 1;\n  };\n  CameraSelectionUi.prototype.numCameras = function () {\n    return this.cameras.length;\n  };\n  CameraSelectionUi.create = function (parentElement, cameras) {\n    var cameraSelectUi = new CameraSelectionUi(cameras);\n    cameraSelectUi.render(parentElement);\n    return cameraSelectUi;\n  };\n  return CameraSelectionUi;\n}();\nexport { CameraSelectionUi };","map":{"version":3,"names":["BaseUiElementFactory","PublicUiElementIdAndClasses","Html5QrcodeScannerStrings","CameraSelectionUi","cameras","selectElement","createElement","CAMERA_SELECTION_SELECT_ID","options","prototype","render","parentElement","cameraSelectionContainer","document","style","marginRight","numCameras","length","Error","display","selectCameraString","selectCamera","innerText","concat","anonymousCameraId","_i","_a","camera","value","id","name_1","label","anonymousCameraPrefix","join","option","push","appendChild","disable","disabled","isDisabled","enable","getValue","hasValue","setValue","hasSingleItem","create","cameraSelectUi"],"sources":["../../../../src/ui/scanner/camera-selection-ui.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}